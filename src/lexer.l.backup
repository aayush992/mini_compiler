%{
#include <stdio.h>
#include "parser.tab.h"
%}

%%

"int"       { return INT; }
"float"     { return FLOAT; }
"if"        { return IF; }
"else"      { return ELSE; }
"return"    { return RETURN; }
"while"     { return WHILE; }
"for"       { return FOR; }

[0-9]+\.[0-9]+    { yylval.floatval = atof(yytext); return FLOAT_LITERAL; }
[0-9]+            { yylval.intval = atoi(yytext); return NUMBER; }
[a-zA-Z_][a-zA-Z0-9_]* { yylval.strval = strdup(yytext); return IDENTIFIER; }

[+\-*/=<>(){};]    { return yytext[0]; }
[ \t\r\n]+         ;  // Ignore whitespace
.                  { printf("Unknown token: %s\n", yytext); }

%%

int yywrap() { return 1; } 